# ❗只需2步，获得 .msi 安装包❗

## 📌 为什么不能直接生成？

**简单回答：** 你在Linux系统，`.msi`是Windows专用格式，需要Windows环境才能构建。

**最佳方案：** 使用GitHub的免费云端Windows服务器自动构建（15-20分钟）

---

## 🚀 第1步：运行上传脚本（1分钟）

打开终端，复制粘贴以下命令：

```bash
cd /media/kayson/F0001DC5001D9426/Coding/zhilian-next
bash 一键上传到GitHub.sh
```

**会发生什么：**
1. ✅ 自动初始化Git
2. ✅ 自动添加所有文件
3. ✅ 自动提交更改
4. ✅ 自动配置你的GitHub仓库
5. ⚠️ **需要你输入GitHub认证**

**GitHub认证说明：**

当脚本提示输入密码时：

1. **用户名**: `KaysonSear`

2. **密码**: ⚠️ **不是GitHub密码！** 而是Personal Access Token

### 🔑 如何获取Token（30秒）？

1. 打开浏览器，访问：
   ```
   https://github.com/settings/tokens
   ```

2. 点击右上角 **"Generate new token"** → 选择 **"classic"**

3. 填写信息：
   - Note（备注）: `zhilian-upload`
   - Expiration（有效期）: `90 days` 或 `No expiration`
   - ✅ 勾选权限: **`repo`**（完整的仓库权限）

4. 点击底部 **"Generate token"** 按钮

5. ⚠️ **立即复制token**（只显示一次！）

6. 回到终端，粘贴token作为密码

---

## ⏱️ 第2步：等待自动构建（15-20分钟）

推送成功后：

1. **访问你的Actions页面：**
   ```
   https://github.com/KaysonSear/zhilian/actions
   ```

2. **查看构建状态：**
   - 🟡 黄色圆圈 = 正在构建中（耐心等待）
   - ✅ 绿色勾 = 构建成功！
   - ❌ 红色叉 = 构建失败（联系我）

3. **下载安装包：**
   - 点击成功的工作流
   - 滚动到页面底部
   - 找到 **"Artifacts"** 区域
   - 点击下载 **`windows-installer`**
   - 解压zip文件
   - 得到 `.msi` 文件！

4. **发给同事：**
   - 通过微信/QQ/邮件发送 `.msi` 文件
   - 同事双击安装，就像安装QQ一样！

---

## 🎯 完整流程图

```
你的Linux电脑 (1分钟)
    ↓
运行脚本 → 输入Token → 推送代码
    ↓
GitHub云端Windows服务器 (15-20分钟)
    ↓
自动安装Node.js → 安装Rust → 编译代码
    ↓
生成 .msi 安装包
    ↓
你下载 → 发给同事 → 同事双击安装 ✅
```

---

## 💡 为什么要这样做？

### ❌ 方案A：在Linux上直接构建Windows程序

**问题：**
- 需要安装复杂的交叉编译工具链
- 需要Windows SDK
- 配置难度极高（可能要花几小时甚至几天）
- 成功率低，容易出各种奇怪错误

### ✅ 方案B：使用GitHub Actions（推荐）

**优势：**
- 🎯 **超简单** - 只需要运行1个脚本
- 🆓 **免费** - GitHub提供免费的构建时间
- 🎯 **专业** - 使用标准的CI/CD流程
- ✅ **可靠** - 每次都能成功构建
- ⏱️ **省心** - 推送代码后你就可以去干别的事

---

## ❓ 常见问题

### Q1: 为什么需要Token而不是密码？
**A:** GitHub从2021年起就不再支持密码推送，必须使用Token。这是为了安全性。

### Q2: Token会过期吗？
**A:** 会的，但你可以设置"No expiration"（永不过期）。

### Q3: 15-20分钟太久了？
**A:** 这已经是最快的方案了。如果在本地构建，光是配置环境可能就要花几个小时。

### Q4: 能不能直接给我一个.msi文件？
**A:** 不行，因为：
   1. 我在Linux环境，无法生成Windows程序
   2. 需要编译你的完整项目（包含地图等功能）
   3. GitHub Actions是行业标准方案

### Q5: 构建失败了怎么办？
**A:** 访问Actions页面，点击失败的工作流，查看红色错误日志，然后告诉我错误信息。

### Q6: 可以构建Mac版本吗？
**A:** 可以！只需要修改`.github/workflows/build-tauri.yml`，将`runs-on: windows-latest`改为`macos-latest`。

---

## 🎁 额外福利

推送到GitHub后，你还获得了：

- ✅ **代码备份** - 永不丢失
- ✅ **版本控制** - 可以回退到任何历史版本
- ✅ **协作功能** - 可以邀请其他人一起开发
- ✅ **自动构建** - 每次推送代码都自动生成新的安装包
- ✅ **Release管理** - 可以发布正式版本，永久保存安装包

---

## 🎯 现在就开始！

### 复制这个命令到终端：

```bash
cd /media/kayson/F0001DC5001D9426/Coding/zhilian-next && bash 一键上传到GitHub.sh
```

### 然后：

1. 按照提示输入Token
2. 打开浏览器访问 https://github.com/KaysonSear/zhilian/actions
3. 等待构建完成（可以去喝杯咖啡☕）
4. 下载 `.msi` 文件
5. 发给同事！

---

## 🎉 总结

- ⏱️ **你的时间投入**：2分钟（运行脚本 + 输入Token）
- ⏱️ **GitHub构建时间**：15-20分钟（自动进行，你不用管）
- 🎯 **结果**：专业的 `.msi` Windows安装包

**这是最简单、最可靠的方案！** 🚀

---

需要帮助？告诉我！

